import { useEffect, useRef, useState } from 'react';
import gsap from 'gsap';
import ScrollTrigger from 'gsap/ScrollTrigger';

gsap.registerPlugin(ScrollTrigger);

let scrollHorizontal = (elem, container) => {
  gsap.to(elem, {
    xPercent: -100 * (elem.length - 1),
    ease: 'none',
    scrollTrigger: {
      // start: 'top top',
      trigger: container,
      pin: true,
      scrub: true,
      markers: true,

      end: () => `+=${container.offsetWidth}`,
    },
  });
};

function App() {
  const [windowWidth, setWindowWidth] = useState(window.innerWidth);

  const handleResize = () => {
    setWindowWidth(window.innerWidth);
  };

  useEffect(() => {
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return (
    <div className='main-container'>
      <section className='box-1'>
        <h1>Section One</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
      <Hor />
      <Ver />
      <section className='box-5'>
        <h1>Section Five</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
    </div>
  );
}

const Hor = () => {
  useEffect(() => {
    let sections = gsap.utils.toArray('.hor-box');
    let container = document.querySelector('.horizontal-container');
    scrollHorizontal(sections, container);
  }, []);
  return (
    <div className='horizontal-container'>
      <section className='box-2 hor-box'>
        <h1>Section Two</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
      <section className='box-3 hor-box'>
        <h1>Section Three</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
      <section className='box-4 hor-box'>
        <h1>Section Four</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Exxscepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
    </div>
  );
};

const Ver = () => {
  return (
    <div className='vertical-container'>
      <section className='box-2'>
        <h1>Section Two</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
      <section className='box-3'>
        <h1>Section Three</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
      <section className='box-4'>
        <h1>Section Four</h1>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate
          nulla dolorem qui accusamus similique consequatur laborum temporibus
          incidunt blanditiis dignissimos, pariatur modi ut asperiores animi
          provident fuga. Excepturi laborum voluptate rerum aut facere maiores.
          Dolore quod error ducimus dicta minus porro aut. Atque in vel autem,
          incidunt modi quidem at?
        </p>
      </section>
    </div>
  );
};

export default App;



section {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

section h1 {
  font-size: 4rem;
}
section p {
  font-size: 18px;
  line-height: 23px;
  text-align: center;
  max-width: 700px;
}

.box-1 {
  background: red;
}
.box-2 {
  background: blue;
}
.box-3 {
  background: yellow;
}
.box-4 {
  background: green;
}
.box-5 {
  background: orange;
}

.horizontal-container {
  height: 100%;
  width: 300%;
  display: none;
  flex-wrap: nowrap;
}

@media screen and (min-width: 700px) {
  .horizontal-container {
    display: flex;
  }

  .vertical-container {
    display: none;
  }
}

export const frontEndData = [
  {
    title: 'HTML',
    icon: <SiHtml5 />,
    level: 90,
    text: `Trés bonne maitrise du html, même si depuis que j'utilise le JSX et je manipule moins de gros fichier HTML`,
  },
  {
    title: 'CSS',
    icon: <SiCss3 />,
    level: 90,
    text: `J'utilise le CSS depuis que j'ai commencé apprendre le code, avec le HTML c'est le langugage avec lequel j'ai début le front end . Je suis donc très a l'aise avec car je l'utilise dans tous mes projets`,
  },
  {
    title: 'Sass',
    icon: <SiSass />,
    level: 70,
    text: `J'utilise le Sass lorsque j'ai commencé à avoir des fichiers html à rallonge. Cela m'a permis de mieux organiser mes fichies de style et d'utiliser le nesting`,
  },
  {
    title: 'Javascript',
    icon: <SiJavascript />,
    level: 95,
    text: `Je suis extrèmement confortable avec le JavaScript, j'ai réalisé un grand nombre de projet en utilise ce langague. On m'a troujours conseillé de construitre le maximum de projet et d'être vraiement à l'aise avec ce dernier avant de passer à un framework de JS`,
  },
  {
    title: 'React',
    icon: <SiReact />,
    level: 85,
    text: `Je travail exclusivement avec React depuis plusieurs mois maitenant. J'ai commencé à l'utilser lorsque j'avais de très nombreux fichier javascript! J'adore ce dernier et je l'ai très vite maitrisé `,
  },
  {
    title: <SiRedux />,
    icon: '',
    level: 80,
    text: `Lorsque j'apprenais React mon instructeur utilsait exclusivment l'API Context de React qui est excelent et que je maitrise très bien. Mais ensuite j'ai découvert Redux qui a une utilisation très proche de celle de l'API Context. Je l'utilise quasiment dans tous mes projects de grandes tailles`,
  },
  {
    title: 'Styled Components',
    icon: <SiStyledcomponents />,
    level: 80,
    text: `J'utilise Styled Components depuis peu de temps, mais je peu deja plus m'en passer. Avec un bon fichier css qui gère les styles golbals cet outil devient très puissant.`,
  },
];
